---
title: 'מקורות מידע לqgis'
lang: he
dir: rtl
output: html_document
---

```{=html}
<style>
h1,h2,h3,h4,h5,h6,p,div,span,th,tr,table,thead {
  direction: rtl;
}
.anglit{
  direction: ltr;
}
</style>
```
## מהו GIS

מערכת מידע גאוגרפית - מערכת ששומרת על מידע מרחבי בצורה מסודרת, ומאפשרת את עיבודו, ניתוחו, הצגתו, יצירתו וניהולו.

## סוגי מידע גאוגרפי

ישנם שני סוגי מידע גאוגרפי מרכזיים:

-   מידע רסטרי\
-   מידע וקטורי

בקורס זה ניגע כמעט ורק במידע וקטורי.

## סוגי מידע וקטורי

כשאנו מתעסקים עם מידע וקטורי, אני מתעסקים עם שלושה סוגים מרכזיים של ישויות:

-   נקודות\
-   קווים\
-   פוליגונים

את כל אחת מהסוגים האלה ניתן לייצג על ידי רצף של קואורדינטות:

```{r message=FALSE, warning=FALSE, include=FALSE}
library(sf)
library(tidyverse)
library(todor)
Sys.setlocale(locale = "hebrew")
```

```{r point, echo=FALSE, message=FALSE, warning=FALSE}
p <- st_point(c(5,5)) %>% st_sfc() %>% st_sf()
ggplot(p) + geom_sf() + labs(title = "נקודה ב5,5") + theme(plot.title = element_text(hjust = 0.5))
```

```{r line, echo=FALSE, message=FALSE, warning=FALSE}
p <- st_linestring(matrix(c(5,4,5,4),ncol=2)) %>% st_sfc() %>% st_sf()
ggplot(p) + geom_sf() + labs(title = "קו מ5,5 ל4,4") + theme(plot.title = element_text(hjust = 0.5))
```

```{r polygon, echo=FALSE, message=FALSE, warning=FALSE}
p <- st_polygon(list(matrix(c(5,5,4,4,4,5,5,5),ncol=2, byrow=TRUE))) %>% st_sfc() %>% st_sf()
ggplot(p) + geom_sf() + labs(title = "פוליגון מ5,5 ל4,4 ל4,5 ל5,5") + theme(plot.title = element_text(hjust = 0.5))
```

אך לפני זה, חשוב להבין שgis הוא פשוט טבלה מלאה במידע, שלפחות אחת מעמודות הטבלה מכילה מידע גאוגרפי,כמו בטבלה הזאת:

| מזהה | שם    | גיל | מיקום |
|-----:|------:|----:|------:|
| 1    | אביעד | 65  | 1,1   |
| 2    | רפי   | 23  | 26,41 |
| 3    | ניסן  | 32  | 31,82 |
| 4    | אביאל | 74  | 93,49 |

פשוט, מכיוון שחלק מהמידע הגאומטרי הוא מסובך לקידוד, בהתחשב בהיטלים הגאוגרפיים ובמורכבות הישות, הוספה של עמודת הגאומטריה לטבלה לא מועילה (אך בפלטפורמות אחרות, כמו R או POSTGIS, היא מופיעה).בשכבה זו, לצורך העניין, יש ארבע ישויות שונות, כאשר כל ישות מסמלת נקודה אחת.  

מעבר לסוגי הישויות, קיימים היבטים נוספים עבור כל ישות:  

* ישות מרובה צורות - ישות אחת יכולה להכיל מספר נקודות  
* תלת מימד - ניתן להוסיף לקוארדינטות מימד גובה  
* linear referencing - לרשתות כבישים ניתן להוסיף מרחלקים על גבי קו. לא נרחיב בקורס, אבל ניתן לראות [בסרטון הזה](https://www.youtube.com/watch?v=meC3AfTOtps) דוגמא לכך.  

שוב, נזכיר - שכבה היא בעצם טבלה עם גאומטריה, וכמו שעל עמודה בטבלה ניתן לבצע פעולות חישוביות, כך גם על ישויות. 

## סוגי קבצים

ניתן לחלק את סוגי הקבצים לשניים: קבצים בודדים וחבילות קבצים

### קבצים בודדים  

#### shapefile (.shp and more) 

הshp, פורמט שייצרה חברת esri, מכיל מספר קבצים שכאשר נמצאים באותה תיקיה, יוצרים אפשרות לצפות בישויות שונות, תחת מגבלות מסוימות:  

* הפורמט זקוק ללפחות שלושה קבצים על מנת לפעול(צורות מרחביות, מאגר נתונים מרחבי ואינדקס מרחבי)  
* עמודה מכילה סוג גאומטריה אחד בלבד

##### תרגיל ראשון: 

1.  טענו את קובץ הshp מהקישור הנל
2.  שימו לב שהשכבה נכנסה ללשונית השכבות
3.  השתמשו בכפתורי סרגל הניווט. אל תתביישו להתנסות
4.  פתחו את טבלת הפיצ'רים וחקרו אותם  
5.  ענו על השאלות הבאות:
  a.  כמה בניינים יש בשכבה?
  b.  באיזה רחוב נמצא הבניין העתיק ביותר?
  c.  באיזה רחוב נמצא הבנייה הצפוני ביותר?

#### .geojson  

##### תרגיל שני:
1.  טענו את קובץ הgeojson מהקישור הנל
2.  שימו לב למיקום הנקודות, בחרו את הנקודה הצפונית ביותר ורשמו את המזהה שלה 
3.  פתחו את הקובץ בnotepad, הזיזו את 

#### .csv  

##### תרגיל שלישי:  
טעינת קובץ csv עם קואורדינטות


#### שכבה ללא גאומטריה  


### חבילות קבצים  

#### geodatabase (.gdb)  

##### אתנחתא - פרויקטים  

#### geopackage(.gpkg)  

##### תרגיל רביעי:  

בואו ניצור פרויקט שמכיל את השייפים הבאים. שמרו אותו. נסו להעביר למחשב אחר. מורכב ולא נוח.   
ולכן - Geopackage – דרך לאגד את השכבות והפרויקט לקובץ בודד.   
(תרגיל – טענו את הגאופקג' נטול הפרויקט, בחרו אלו שכבות אתם מעוניינים להעלות)  
(תרגיל – ארזו מספר שכבות שונות לתוך geopackage).  
כעת, לאחר שסגננתם והוספתם פרויקט, ניתן לשמור את הפרויקט בתוך הגאו פקג'  
(תרגיל – שמרו פרויקט עם סגנונות בתוך גאופקג. טענו אותו.)  
