---
title: "רשתות מרחביות"
author: "דר' עדו קליין"
lang: he
dir: rtl
output:
  slidy_presentation: default
  ioslides_presentation: default
---

## מהי רשת?

![](C:/Users/User/AppData/Local/RStudio/tmp/paste-F0594B2A.png)

### מונחי יסוד

צומת

קשת

כיווניות

![](C:/Users/User/AppData/Local/RStudio/tmp/paste-2B19FC6D.png)

משקולות

![](C:/Users/User/AppData/Local/RStudio/tmp/paste-F4D32E75.png)

## מדדים על רשת

ביניות

קרבה

מעלה

![](D:/idos_shit/amav_qgis/lesson_6/graph_indices.png)

## אלגוריתמים על רשת

[המסלול הקצר ביותר - דייקסטרה](https://he.wikipedia.org/wiki/%D7%90%D7%9C%D7%92%D7%95%D7%A8%D7%99%D7%AA%D7%9D_%D7%93%D7%99%D7%99%D7%A7%D7%A1%D7%98%D7%A8%D7%94)

![](https://upload.wikimedia.org/wikipedia/commons/5/57/Dijkstra_Animation.gif)

[חלוקה לקהילות](https://en.wikipedia.org/wiki/Community_structure)

[דוגמא של עדו](https://rpubs.com/idshklein/jlm_network_communities)

## מה זה קשור לגאוגרפיה או לתחבורה?

![](https://upload.wikimedia.org/wikipedia/commons/5/5d/Konigsberg_bridges.png)

[בעיית הגשרים של קנינסברג](https://he.wikipedia.org/wiki/%D7%94%D7%92%D7%A9%D7%A8%D7%99%D7%9D_%D7%A9%D7%9C_%D7%A7%D7%A0%D7%99%D7%92%D7%A1%D7%91%D7%A8%D7%92)- הבעיה הראשונה בתורת הגרפים

תורת הגרפים משמשת כבסיס לניווט - מוצאת את המסלול הקצר ביותר ברשת גאוגרפית.

למעשה, בתורת הגרפים הקלאסית, לצמתים ולקשתות אין מתאר מדויק, אבל תוכנות הgis מוסיפות להם אותו.

## שימושים מתקדמים

שימושים מתקדמים מאפשרים הערכות כמו כמות צמתים לקמ"ר, אורך רחובות, מדדי ביניות, קרבה, מעלה, אלוקציה של המרחב.

כל אלו אפשריים עם משפחת הפונקציות של grass. מציע לכם לבדוק אותם, אם כי לא ניכנס אליהם בקורס.

ניתן לבצע שימושים מתקדמים יותר, הרלוונטיים מאוד לתכנון תחבורה, על ידי חבילת osmnx בפייתון או sfnetworks בR. כל אלו מאפשרים מענה על שאלות מתקדמות יותר, למשל - מה היחס בין שטח אגן ההליכה הקרוב ובין שטח הבאפר במרחקים זהים, עבור כל צומת בשכונה? ככל שיחס זה יותר קרוב לאחד, ככה אפשר לומר שהצומת נגיש יותר.

[דוגמא](https://rpubs.com/idshklein/jlm_walk_index_v2)

[דוגמא 2](https://rpubs.com/idshklein/synthetic_cities_report_1)

## מה נלמד?

בפונקציות הבסיס של qgis יש את ארגז הכלים של network analysis המאפשרת בחינת מסלול קצר ביותר ושטח שירות.

תוסף qneat מאפשר הצגה של טובה יותר של הכלים הבסיסים, כמו גם מטריצות מוצא יעד.

## התקנת התוסף

plugins -\> manage and install plugins -\> search qneat -\> install

מומלץ להתחיל מחדש את התוכנה אחרי ההתקנה

## שלוש פונקציות 

1.  מטריצות מרחקים
2.  איזכרונים
3.  מסלולים קצרים ביותר

לשתי הפונקציות הראשונות אפשריות ייצוא רבות, אבל פעולתן זהה.

## מטריצות מרחקים

מאפשרות לדעת איזה מרחק יש בין נקודות על גבי הרשת.

2 כלים שונים - מרחקים בין כל הנקודות בשכבת הקלט, ומרחקים בין שכבת נקודות אחת לשניה

## איזוכרנים

מפות הבוחנות את המרחקים של כל נקודה ברשת מנקודות מסוימות. ניתן לקבל מספר רב של פורמטים שלהם

## מסלולים קצרים ביותר

כלי מוגבל המשמש לבדיקה של איכות הרשת, מאפשר שאילתא אחת כל פעם.

## דגשים לשימוש

### משקולות

אנו זקוקים למשקולות של המקטעים כדי לחשב את עלות של כל מסלול.

על פניו, מרחק הוא העלות הקלה ביותר, אם כי הדברים עלולים להסתבך:

יש צירים מותרים לשימוש על ידי אמצעים שונים

יש מהירויות שונות לאמצעים שונים

יש עיכוב בצמתים (ולא נתייחס אליו)

יש עיכוב בצירים (פקקים, שיפועים)

לפני שמחשבים, צריך לקחת בחשבון את העלות של כל מקטע.

### כיוון

יש לשים לב היטב למהו הכיוון של הקו. זה רלוונטי גם עבור רכב פרטי, שכן הוא לא יכול לנסוע בניגוד לכיוון התנועה, אבל גם להולכי רגל/ רוכבי אופניים, שמושפעים מהשיפוע של המקטע (גם אם הם יכולים ללכת בשני הכיוונים).

### שלמות הרשת

הכלים של qneat .לא בוחנים האם כל הלינקים מחוברים. הדבר הזה **קריטי. לינק אחד יכול לשנות את כל התמונה, תלוי במיקום שלו.**

רשת מפה היא רשת מחוברת וטובה יחסית, אם יש חשוב לבדוק את חיבוריות הצמתים.

בכל מקרה, לעולם לא להריץ על כלל רשת מפה אלא לגזור את האזור המסוים בו אתם רוצים להשתמש, למשל בדוגמא - ירושלים.

## דוגמא לשימוש - תרגיל משותף - נגישות לתחנות אוטובוס בשכונת גוננים

הורידו את שכבת המינהלים הקהילתיים מהסרויס של עיריית ירושלים

הורידו את קובץ התחנות מהgtfs

הורידו את הרשת של שכונת גוננים מהOSM באמצעות quickosm (דיון לגבי הבאפר לשכונה)

ייצרו איזוכרון עבור שכבת התחנות במרחקים של 100,300 ו500 מטרים

הדגמה עם grass - אלוקציה של השכונה לתחנות

<link href="my-style.css" rel="stylesheet">
